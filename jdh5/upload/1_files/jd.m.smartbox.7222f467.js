!function(e){"undefined"!=typeof module&&"object"==typeof exports?module.exports=e:"function"==typeof define&&(define.amd||define.cmd)?define(e):(window.JD||(window.JD={M:{}}),window.JD.M={smartbox:e()})}(function(){var b=[],c=null,d={type:"GET",success:k,error:k,complete:k,load:k,context:null,global:!0,retryCount:0,globalLock:0,lockCallback:null,cgiKey:!1,degrade:!1,xhr:function(){return new window.XMLHttpRequest},dataType:"json",accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,needCookies:!1,timeout:8,processData:!0,cache:!1,wqunit:/[?&]_wqunit_=1/.test(location.search),setReportUrl:""},e=window;if(!e.callbackName){for(var f=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],g=0;g<3;g++)for(var h=0;h<26;h++)f.push(f[26*g+h]+f[h]);e.callbackName=f}e.ajaxCount=e.ajaxCount||0;var i="",j=l("sceneval")||(/(\.|^)m\.jd\.com/.test(window.location.hostname)?2:0);function k(){}function l(e,t){var o=t||window.location.search,s=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=o.substr(o.indexOf("?")+1).match(s);return null!=n?n[2]:""}function m(e){if(e.processData&&e.data&&"string"!=typeof e.data){if("post"==e.type.toLowerCase()&&e.jsonpCallback)return;e.data=(t=e.data,(o=[]).add=function(e,t){this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},function(e,t){for(var o in t)e.add(o,t[o])}(o,t),o.join("&").replace(/%20/g,"+"))}var t,o;!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=p(e.url,e.data),e.data=void 0)}function p(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function s(e,t,o){var s=o.context,n="success";o.success.call(s,e,o,n,t),v(n,t,o)}function t(e,t,o,s){s.retryCount<=0||"post"==s.type.toLowerCase()||0<=["error","parsererror"].indexOf(t)?u(e,t,o,s):setTimeout(function(){s.url=s.url.replace(/(&)?(_|g_tk|g_ty|callback)=\w+/g,""),console.log("start retry,"+s),s.retryCount--,y(s)},0)}function u(e,t,o,s){var n=s.context;console.log(s.url,t,e),s.degrade&&(console.log("降级",s.degrade),s.isDegrade=1,s.success.call(n,s.degrade,s));s.error.call(n,t,{timeout:8e3,error:5e3,load:3020,abort:5001,parsererror:3021}[t]||9e3,s,e,o),v(t,o,s)}function v(e,t,o){var s=o.context;o.complete.call(s,e,t)}function w(o){var n,a,r=o.jsonpCallback,i=("function"==typeof r?r():r)||"jsonpCBK"+e.callbackName[e.ajaxCount++%e.callbackName.length],c={abort:d},d=function(e){console.log(o.url,"timeout"),t(null,"timeout",c,o)};window[i]=function(){clearTimeout(n),a=arguments;var e=document.getElementById("ajaxPostForm");e&&e.remove();var t=document.getElementById("ajaxPostIframe");t&&t.remove(),s(a[0],c,o)},o.data.callback=i,function(e,t){var o=document.getElementById("ajaxPostForm"),s=document.getElementById("ajaxPostIframe");o||((o=document.createElement("form")).id="ajaxPostForm",(s=document.createElement("iframe")).height=0,s.width=0,s.id=s.name="ajaxPostIframe",o.style.display="none",document.body.appendChild(s),document.body.appendChild(o));for(var n=function(e,t){return t?t.querySelectorAll(e):document.querySelectorAll(e)}("input",o),a=0,r=n.length;a<r;++a)o.removeChild(n[a]);for(var i in e.data){var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",i),c.setAttribute("value",e.data[i]),o.appendChild(c)}o.target="ajaxPostIframe",o.action=e.url,o.method="POST",o.enctype=t?"multipart/form-data":"application/x-www-form-urlencoded",o.submit()}(o,o.isFile),0<o.timeout&&(n=setTimeout(function(){window[i]=k,d("timeout")},1e3*o.timeout))}function y(mb){if(mb){var nb=mb;for(var ob in d)void 0===nb[ob]&&(nb[ob]=d[ob]);nb.url=nb.url.replace(/^http:/,""),i=nb.setReportUrl&&"function"==typeof nb.setReportUrl?(i=nb.setReportUrl())||nb.url:window.CGI302ReportKeepUrl?nb.url:nb.url.replace(/\?.*/,""),nb.crossDomain||(nb.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(nb.url)&&RegExp.$2!=window.location.host),nb.crossDomain&&nb.needCookies&&(nb.xhrFields={withCredentials:!0}),nb.url||(nb.url=window.location.toString()),m(nb);var pa,ta,va,qa,ra,sa,ua,wa,xa,pb=nb.dataType,qb=/\?.+=\?/.test(nb.url);if(qb&&(pb="jsonp"),!1!==nb.cache&&(mb&&!0===mb.cache||"script"!=pb&&"jsonp"!=pb)||(nb.url=p(nb.url,"_="+Date.now())),j&&(nb.url=p(nb.url,"sceneval="+j)),"jsonp"==pb||nb.wqunit)return qb||(nb.urlbak=nb.url,nb.url=p(nb.url,nb.jsonp?nb.jsonp+"=?":!1===nb.jsonp?"":"callback=?")),qa=(pa=nb).jsonpCallback,ra=("function"==typeof qa?qa():qa)||"jsonpCBK"+e.callbackName[e.ajaxCount++%e.callbackName.length],sa=document.createElement("script"),ua={abort:wa},wa=function(e){xa=1,console.log(pa.url,"timeout"),t(null,"timeout",ua,pa)},xa=0,pa.callbackName=ra,sa.charset=pa.charset||"utf-8",sa.onload=sa.onerror=function(e,o){if(clearTimeout(va),xa)return console.log("timeout"),!1;"error"==e.type?(console.log(pa.url,o||e.type||"error"),t(null,"error",ua,pa)):ta?ta[0]&&-1==ta[0].retcode&&"没有找到"==ta[0].message&&1==ta[0].unitReload?(pa.wqunit=!1,pa.url=pa.urlbak,y(pa)):s(ta[0],ua,pa):(t(null,e.type,ua,pa),window.onerror("","","","",{stack:"servererror:"+i})),ta=void 0,sa.parentNode.removeChild(sa)},window[ra]=function(){ta=arguments},pa.url=pa.url.replace(/\?(.+)=\?/,"?$1="+ra),sa.src=pa.url,document.head.appendChild(sa),0<pa.timeout&&(va=setTimeout(function(){wa("timeout")},1e3*pa.timeout)),ua;if("post"==nb.type.toLowerCase()&&nb.jsonpCallback)return w(nb);function tb(e,t){sb[e.toLowerCase()]=[e,t]}var xb,rb=nb.accepts[pb],sb={},ub=/^([\w-]+:)\/\//.test(nb.url)?RegExp.$1:window.location.protocol,vb=nb.xhr(),wb=vb.setRequestHeader;if(nb.crossDomain||tb("X-Requested-With","XMLHttpRequest"),tb("Accept",rb||"*/*"),(rb=nb.mimeType||rb)&&(-1<rb.indexOf(",")&&(rb=rb.split(",",2)[0]),vb.overrideMimeType&&vb.overrideMimeType(rb)),(nb.contentType||!1!==nb.contentType&&nb.data&&"GET"!=nb.type.toUpperCase())&&tb("Content-Type",nb.contentType||"application/x-www-form-urlencoded"),nb.headers)for(name in nb.headers)tb(name,nb.headers[name]);vb.setRequestHeader=tb,vb.onreadystatechange=function(){if(4==vb.readyState){vb.onreadystatechange=k,clearTimeout(xb);var Bb,Cb=!1;if(200<=vb.status&&vb.status<300||304==vb.status||0==vb.status&&"file:"==ub){Bb=vb.responseText;try{"script"==pb?eval(Bb):"xml"==pb?Bb=vb.responseXML:"json"==pb&&(Bb=/^\s*$/.test(Bb)?null:(oa=Bb)&&"string"==typeof oa&&(oa=oa.replace(/^\s+|\s+$/g,""))?JSON.parse(oa):oa)}catch(e){Cb=e}Cb?t(Cb,"parsererror",vb,nb):s(Bb,vb,nb)}else console.log("ajax error",vb),t(vb.statusText||null,"load",vb,nb)}var oa};var yb=!("async"in nb)||nb.async;if(vb.open(nb.type,nb.url,yb,nb.username,nb.password),nb.xhrFields)for(name in nb.xhrFields)vb[name]=nb.xhrFields[name];for(name in sb)wb.apply(vb,sb[name]);return 0<nb.timeout&&(xb=setTimeout(function(){vb.onreadystatechange=k,vb.abort(),t(null,"timeout",vb,nb)},1e3*nb.timeout)),vb.send(nb.data?nb.data:null),vb}}function z(e,t,o){if(e&&t&&o)if(e instanceof Array)for(var s=0,n=e.length;s<n;s++)z(e[s],t,o);else if(t instanceof Array)for(s=0,n=t.length;s<n;s++)z(e,t[s],o);else if(window.__allHandlers=window.__allHandlers||{},window.__Hcounter=window.__Hcounter||1,window.addEventListener)r(e,t,o,a=i(o,e)),e.addEventListener(t,a,!1);else if(window.attachEvent){var a;r(e,t,o,a=i(o,e)),e.attachEvent("on"+t,a)}else e["on"+t]=o;function r(e,t,o,s){e.__hids=e.__hids||[];var n="h"+window.__Hcounter++;e.__hids.push(n),window.__allHandlers[n]={type:t,handler:o,wrapper:s}}function i(e,t){return function(){return e.apply(t,arguments)}}}function A(e){var t,o=e||{},s=1,n=arguments.length;for("object"!=typeof o&&"function"!=typeof o&&(o={});s<n;s++)if(null!=(t=arguments[s]))for(var a in t){var r=t[a];o!==r&&void 0!==r&&(o[a]=r)}return o}function C(e,t){F(e,t,"add")}function D(e,t){F(e,t,"remove")}function E(e,t){if(e&&t)for(var o=("object"==typeof e?e.className:e).split(" "),s=0,n=o.length;s<n;s++)if(t==o[s])return t}function F(e,t,o){if(e){function s(e,t,o){if(e){var s=e.className,n=s?s.split(" "):[];if("add"==o)E(s,t)||(n.push(t),e.className=n.join(" "));else if("remove"==o){for(var a=[],r=0,i=n.length;r<i;r++)t!=n[r]&&" "!=n[r]&&a.push(n[r]);e.className=a.join(" ")}}}if("string"==typeof e)for(var n=e.split(","),a=0,r=n.length;a<r;a++)n[a]&&s(G(n[a]),t,o);else if(e instanceof Array)for(a=0,r=e.length;a<r;a++)e[a]&&s(e[a],t,o);else s(e,t,o)}}function G(e){return"string"==typeof e?document.getElementById(e):e}function I(e,t){var o=t||"\\s",s=new RegExp("(^"+o+"*)|("+o+"*$)","g");return e.replace(s,"")}function J(e){return"string"!=typeof e?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;").replace(/ /g,"&nbsp;")}function K(e,t){try{window.localStorage.setItem(e,t)}catch(e){}}function L(e,t){var o=window.localStorage.getItem(e);if(!t)return o;t(o)}function N(e){var t=new RegExp("(^| )"+e+"(?:=([^;]*))?(;|$)"),o=document.cookie.match(t);if(!o||!o[2])return"";var s=o[2];try{return(/(%[0-9A-F]{2}){2,}/.test(s)?decodeURIComponent:unescape)(s)}catch(e){return unescape(s)}}function O(e,t,o,s,n,a){var r=new Date;s=s||"/",n=n||null,a=a||!1;(o=o||null)&&r.setMinutes(r.getMinutes()+parseInt(o)),document.cookie=e+"="+escape(t)+(o?";expires="+r.toGMTString():"")+(s?";path="+s:"")+(n?";domain="+n:"")+(a?";secure":"")}function P(e,t){return/^\#/.test(e)?G(e.replace(/^\#/,"")):t?t.querySelector(e):document.querySelector(e)}function R(e,t){if(e){if("none"!=t)1==e.getAttribute("hide")&&(t="none");e.style.display=t||"block"}}function S(e,t,o,s,n){var a=~e.indexOf("?")?"&":"?";if(0<=e.indexOf(a+t+"=")){var r=new RegExp("(\\"+a+t+"=[^&#]*)");e=n?e.replace(r,a+t+"="+o):e.replace(r,"$1"+(s||"")+o)}else{if(-1<e.indexOf("#")){var i=e.split("#");e=i[0]+a+t+"="+o+"#"+i[1]}else e+=a+t+"="+o}return e}function T(e){var t;if(!(0<Math.floor(10*Math.random()))){var o="//wq.jd.com/webmonitor/collect/biz.json?contents=";if(e instanceof Array){t=[];for(var s=0;s<e.length;s++)t.push(e[s].bizid+"|"+e[s].operation+"|"+e[s].result+"|"+e[s].source+"|"+encodeURIComponent(String(e[s].message).replace(/,/g," "))+(window.traceid?"|"+traceid:""));t=t.join(",")}else if(t=e.bizid+"|"+e.operation+"|"+e.result+"|"+e.source+"|"+encodeURIComponent(String(e.message).replace(/,/g," "))+(window.traceid?"|"+traceid:""),e&&e.notCombo)return void((new Image).src=o+t+"&t="+Math.random());b.push(t),c=c||setTimeout(function(){(new Image).src=o+b.join(",")+"&t="+Math.random(),b=[],c=null},1e3)}}var U={set:K,get:L,remove:function(e){return window.localStorage.removeItem(e)}},V=/jdpingou/.test(navigator.userAgent.toLowerCase()),W="searchhistory_3",X=!1,Y={status:0,oldKey:"",curTheam:"searchland",hotwordsCache:null,isFucus:!1,onShow:!1,onShowHah:!1,firstClickReport:!1,inpageshow:!1,dtimer:null,xstorageUrl:"//wq.360buyimg.com/js/common/dest/m.xstorage.client.min.js?t=201809121400",searchUrl:"//so.m.jd.com/ware/search.action?keyword={#keyword#}&searchFrom={#sf#}&sf={#ssf#}&as={#as#}",searchShopUrl:"//so.m.jd.com/shop/searchShop.action?keyword={#keyword#}&searchFrom={#sf#}&sf={#ssf#}&as={#as#}",tipsApi:"//wq.jd.com/bases/searchdropdown/getdropdown",hotKeyApi:"//wq.jd.com/bases/searchhotword/GetHotWords",drakApi:"//wq.jd.com/bases/searchpromptwords/searchpromptwords",doms:{},inputInfo:{needReplace:!1,left:0,top:0,width:0,height:0},cgiMonitor:{smartboxTimer:null,timeout:5e3},opt:{deley:300,showCb:null,hideCb:null,keyInput:null,clickCb:null,css:"//wq.360buyimg.com/wxsq_item_search/search/static_css_include/style/search_m_smartbox.423d649d.css",sf:"search",smartboxBlock:"",inputDomid:"",onlyGenDoms:!1,isLogin:!1,initReplace:!0,defaultSm:!0,shortCutShow:!1,cancelBtnShow:!0,initHideSbtn:!1,initKeyword:"",drakKey:"",drakText:"",drakLink:"",mManualReport:!1,searchRd:"",hisRd:"",hotRd:"",darkRd:"",smartRd:"",smartShopRd:""}};return Y.init=function(e){1===this._status&&console.warn("smartbox duplicate initialization, please check your code again."),window.closeSearchEntrance_m||(this.initParam(e),this.initTpl(),this.opt.onlyGenDoms||this.bindEvent(),this._status=1)},Y.initParam=function(e){e&&A(this.opt,e);var t,o,s,n=N("_mkjdcnsl");n&&"0"==n.charAt(0)&&(this.opt.shortCutShow=!1,this.opt.cancelBtnShow=!1,this.opt.initHideSbtn=!0),V&&"m.jd.com"!=location.host&&(this.opt.shortCutShow=!1,this.opt.cancelBtnShow=!1,this.opt.initHideSbtn=!0),this.pageUrl=location.href.replace(/\?.*/,""),e.inputDomid&&(this.opt.inputDomid=P("#"+this.opt.inputDomid)),!this.opt.css||(t=this.opt.css)&&((!window._loadCss||window._loadCss.indexOf(t)<0)&&((s=document.createElement("link")).setAttribute("type","text/css"),s.setAttribute("rel","stylesheet"),s.setAttribute("href",t),s.setAttribute("id","loadCss"+Math.random()),document.getElementsByTagName("head")[0].appendChild(s),window._loadCss?window._loadCss+="|"+t:window._loadCss="|"+t),s&&"function"==typeof o&&(s.onload=o)),this.curTheam="home"==this.opt.sf?"home_normal":"searchland",this.loadXstorageClient()},Y.loadXstorageClient=function(){y({url:this.xstorageUrl,data:{},type:"get",dataType:"script",cache:!0,success:function(){var o=new CrossStorageClient;U={set:function(e,t){o.onConnect().then(function(){return o.set(e,t)}).catch(function(e){o.close()})},get:function(e,t){o.onConnect().then(function(){return o.get(e)}).then(function(e){t&&t(e)}).catch(function(e){o.close()})},remove:function(e){o.onConnect().then(function(){return o.del(e)}).catch(function(e){o.close()})}}}})},Y.initTpl=function(){if(this.opt.smartboxBlock)this.opt.smartboxBlock=P("#"+this.opt.smartboxBlock);else{var e=document.createElement("div");e.id="smartboxBlock",document.body.appendChild(e),this.opt.smartboxBlock=e}this.opt.smartboxBlock.className="search-land"+("home"==this.opt.sf?" main-page":""),this.opt.smartboxBlock.style.display=this.opt.defaultSm?"block":"none",this.opt.smartboxBlock.innerHTML=this.child_indextpl(),this.doms.kwObj=P("#msKeyWord"),this.doms.searchBtn=P("#msSearchBtn"),this.doms.clearBtn=P("#msSearchClearBtn"),this.doms.cancelBtn=P("#msCancelBtn"),this.doms.msContentWraper=P("#msContentWraper"),this.doms.msHistory=P("#msHistory"),this.doms.msHistoryTags=P("#msHistoryTags"),this.doms.msHistoryDel=P("#msHistoryDel"),this.doms.msClearToast=P("#msClearToast"),this.doms.msClearFloor=P("#msClearFloor"),this.doms.msClearCancel=P("#msClearCancel"),this.doms.msClearSure=P("#msClearSure"),this.doms.msHotSearch=P("#msHotSearch"),this.doms.msHotSearchReflash=P("#msHotSearchReflash"),this.doms.msHotwordVisible=P("#msHotwordVisible"),this.doms.msHotSearchTags=P("#msHotSearchTags"),this.doms.msKeys=P("#msKeys"),this.doms.msShortcutLogin=P("#msShortcutLogin"),this.doms.msShortcutMenu=P("#msShortcutMenu"),this.doms.msShortcut=P("#msShortcut"),this.doms.msHeaderMask=P("#msHeaderMask"),this.doms.msSearchBox=P("#msSearchBox"),"home"!=this.opt.sf&&this.getShortCutMenus(),this.oldKey=I(this.doms.kwObj.value),this.opt.drakText?(this.doms.kwObj.setAttribute("placeholder",this.opt.drakText),this.opt.initKeyword||this.exposeDark()):"category"==l("searchFrom")&&!l("keyword")||this.loadDrakText(),this.opt.initReplace&&this.inputReplace(),this.showShortCut(this.opt.shortCutShow),this.showCancelBtn(this.opt.cancelBtnShow)},Y.inputReplace=function(){this.inputInfo.needReplace},Y.showShortCut=function(e){e?this.showSearchBtn(!1):(this.showSearchBtn(!this.opt.initHideSbtn),R(this.doms.msShortcut,"none"))},Y.showMlogin=function(e){e?"home"!=this.opt.sf||this.opt.isLogin?R(this.doms.msShortcutMenu,""):R(this.doms.msShortcutLogin,""):(R(this.doms.msShortcutLogin,"none"),R(this.doms.msShortcutMenu,"none"))},Y.showSearchBtn=function(e){e?(R(this.doms.searchBtn,""),this.doms.msSearchBox.style.marginRight="52px"):(R(this.doms.searchBtn,"none"),this.doms.msSearchBox.style.marginRight="32px")},Y.showCancelBtn=function(e){R(this.doms.cancelBtn,e?"":"none")},Y.bindEvent=function(){var d=this;z(this.doms.kwObj,"focus",function(){if(!d.isFucus){d.isFucus=!0,d.loadSuggest();var e="";if(!d.onShow)switch(d.opt.sf){case"home":e="MHome_BSearch";break;case"search":e="MProductList_Search";break;case"pinpai":e="MSearchBrand_Search";break;case"category":e="MFilter_Search"}""==I(d.doms.kwObj.value)?d.showHisAndHot():(d.hideHisAndHot(),d.doms.clearBtn&&R(d.doms.clearBtn,"")),d.inputReplace(!1),d.showCancelBtn(!0),d.showSearchBtn(!0),d.opt.showCb&&d.opt.showCb(),e&&(d.firstClickReport=!0,d.sendMping(e),window.setTimeout(function(){d.firstClickReport=!1},300))}}),z(this.doms.kwObj,"blur",function(){d.isFucus=!1,window.setTimeout(function(){d.doms.clearBtn&&R(d.doms.clearBtn,"none")},0)}),z(d.doms.kwObj,"click",function(){var e=I(d.doms.kwObj.value);d.clickEvent(1,0,e,d.firstClickReport);var t=!1;!e&&d.opt.drakKey&&(e=d.opt.drakKey,t=!0);var o={event_param:e+"_"+(t?"1":"0")+"_"+d.getOriginalSearch()};d.firstClickReport||d.sendMping("MSearch_Search",o)});for(var e=d.doms.kwObj.parentNode;e&&e!==document.body&&"FORM"!==e.tagName.toUpperCase();)e=e.parentNode;z(d.doms.kwObj,"keydown",function(e){if("13"==e.keyCode){d.doms.kwObj.blur();var t=I(d.doms.kwObj.value),o=d.opt.searchRd,s=!1;if(""==t){if(d.opt.drakLink){var n=decodeURIComponent(l("keyword",d.opt.drakLink)||""),a=d.opt.drakLink;return d.opt.darkRd&&(a=S(a,"ptag",d.opt.darkRd,"",!0)),s=!0,void d.jumpToTarget(a,n,"MSearch_TrueLines",!0)}if(!d.opt.drakKey)return;t=I(d.opt.drakKey),o=d.opt.darkRd;var r={event_param:d.opt.drakText+"_"+t+"_2"};s=!0,d.sendMping("MSearch_TrueLines",r)}d.clickEvent(2,0,t);var i=d.genSearchUrl(t,o,11,1);if(i){var c={event_param:t+"_"+d.getOriginalSearch()+"_"+(s?"1":"0"),event_level:"2"};d.jumpToTarget(i,t,"MSearch_Searchthi",s,c)}}}),d.doms.searchBtn&&z(d.doms.searchBtn,"click",function(e){var t=I(d.doms.kwObj.value),o=d.opt.searchRd,s=!1;if(""==t){if(d.opt.drakLink){var n=decodeURIComponent(l("keyword",d.drakInfo.link)||""),a=d.drakInfo.link;return d.opt.darkRd&&(a=S(a,"ptag",d.opt.darkRd,"",!0)),s=!0,void d.jumpToTarget(a,n,"MSearch_TrueLines",!0)}if(d.opt.drakText&&d.opt.drakKey){t=d.opt.drakKey,o=d.opt.darkRd,s=!0;var r={event_param:d.opt.drakText+"_"+t+"_2"};s=!0,d.sendMping("MSearch_TrueLines",r)}}d.clickEvent(3,0,t);var i=d.genSearchUrl(t,o,11,1);i&&d.jumpToTarget(i,t,"MSearch_SearchButton",s)}),d.doms.cancelBtn&&z(d.doms.cancelBtn,"click",function(e){d.onShow?(d.doms.kwObj.blur(),d.doms.kwObj.value=d.opt.initKeyword||"",d.hideWrap(),d.opt.hideCb&&d.opt.hideCb(),d.clickEvent(4,0,""),d.sendMping("MSearch_Back")):"home"==d.opt.sf?(d.sendMping("MSearchFrame_Category",{event_level:"1",event_param:location.host}),window.setTimeout(function(){location.href="//wqs.jd.com/wxsq_project/portal/m_category/index.shtml"},200)):(d.sendMping("MCommonHead_Back"),history.back())}),d.doms.clearBtn&&z(d.doms.clearBtn,"click",function(e){d.doms.kwObj.value="",d.doms.kwObj.focus(),d.opt.keyInput&&d.opt.keyInput(""),e.preventDefault(),d.showHisAndHot(),R(d.doms.clearBtn,"none"),d.clickEvent(5,0,""),d.sendMping("MSearch_Clear",{event_param:""}),d.opt.drakText&&d.exposeDark()}),d.doms.msHistoryDel&&(z(d.doms.msHistoryDel,"click",function(e){R(d.doms.msClearToast,"-webkit-box"),d.clickEvent(7,0,""),d.sendMping("MSearch_ClearHistory")}),z(d.doms.msClearFloor,"click",function(e){R(d.doms.msClearToast,"none"),d.clickEvent(8,0,"")}),z(d.doms.msClearCancel,"click",function(e){R(d.doms.msClearToast,"none"),d.clickEvent(9,0,""),d.sendMping("MSearch_ClearHistoryCancel")}),z(d.doms.msClearSure,"click",function(e){d.clearHistoryKeywords(),R(d.doms.msClearToast,"none"),d.clickEvent(10,0,""),d.sendMping("MSearch_ClearHistoryConfirm")})),z(d.doms.msShortcutLogin,"click",function(){d.sendMping("MSearchFrame_Login",{event_param:location.host}),window.setTimeout(function(){location.href="//home.m.jd.com/myJd/home.action"},200)}),z(d.doms.msShortcutMenu,"click",function(e){"home"==d.opt.sf?(d.sendMping("MSearchFrame_PersonalCenter",{event_param:location.host}),window.setTimeout(function(){location.href="//home.m.jd.com/myJd/home.action"},200)):(d.sendMping("MCommonHead_NavigateButton"),"1"==d.doms.msShortcutMenu.getAttribute("show")?(R(d.doms.msShortcut,"none"),R(d.doms.msHeaderMask,"none"),d.doms.msShortcutMenu.setAttribute("show","0")):(R(d.doms.msShortcut,""),R(d.doms.msHeaderMask,""),d.doms.msShortcutMenu.setAttribute("show","1")))}),z(d.doms.msHeaderMask,"click",function(e){R(d.doms.msHeaderMask,"none"),R(d.doms.msShortcut,"none"),d.doms.msShortcutMenu.setAttribute("show","0")}),z(d.doms.msHotwordVisible,"click",function(e){E(d.doms.msHotSearch,"hide_hotword")?(X=!1,O("sbx_hot_h",0,525600,"/","jd.com"),K("sbx_hot_h",0),D(d.doms.msHotSearch,"hide_hotword"),window.wa&&window.wa("jdClick",{ptag:"7092.8.37"})):(X=!0,O("sbx_hot_h",1,525600,"/","jd.com"),K("sbx_hot_h",1),C(d.doms.msHotSearch,"hide_hotword"),window.wa&&window.wa("jdClick",{ptag:"7092.8.36"}))}),d.setSuggestCheck(),d.bindHisEvent(),d.bindSmkeyEvent(),z(window,"scroll",function(){var e,t;document.activeElement&&document.activeElement===d.doms.kwObj&&(e=document.documentElement,t=document.body,e&&e.scrollLeft||t&&t.scrollLeft||window.pageXOffset,0<(e&&e.scrollTop||t&&t.scrollTop||window.pageYOffset||0))&&d.doms.kwObj.blur()}),z(window,"pageshow",function(){d.inpageshow&&(d.doms.kwObj.blur(),d.doms.kwObj.value=d.opt.initKeyword||"",d.hideWrap(),d.opt.hideCb&&d.opt.hideCb()),d.inpageshow=!0})},Y.setSuggestCheck=function(){var t=Y;if(t.isFucus){var e=I(t.doms.kwObj.value);e!=t.oldKey&&(t.oldKey=e,t.loadSuggest(),t.opt.keyInput&&t.opt.keyInput(e)),""!=e?(R(t.doms.clearBtn,""),t.onShowHah&&t.hideHisAndHot()):(R(t.doms.clearBtn,"none"),t.onShowHah||t.showHisAndHot())}function o(){t.dtimer&&window.clearTimeout(t.dtimer),t.dtimer=window.setTimeout(function(){var e=I(t.doms.kwObj.value);e!=t.oldKey&&(t.oldKey=e,t.loadSuggest(),t.opt.keyInput&&t.opt.keyInput(e)),""!=e?(R(t.doms.clearBtn,""),t.onShowHah&&t.hideHisAndHot()):(R(t.doms.clearBtn,"none"),t.onShowHah||t.showHisAndHot(),t.opt.drakText&&t.exposeDark())},t.opt.deley)}z(t.doms.kwObj,"input",o),z(t.doms.kwObj,"propertychange",o)},Y.loadSuggest=function(){var p=this,u=I(p.doms.kwObj.value);u&&p.isFucus&&(p.cgiMonitor.smartboxTimer=window.setTimeout(function(){try{T({bizid:"36",operation:"16",result:"0",source:"0",message:"m_smartbox api timeout:"+p.opt.sf})}catch(e){}},p.cgiMonitor.timeout),y({url:p.tipsApi,data:{terminal:"m",zip:1,key:u,newjson:1},type:"get",dataType:"jsonp",success:function(e){if(!p.onShowHah){var t=[],o=0,s=0,n=[],a=[],r=new RegExp("("+u.replace(/([\+\*\.\?\|\^\(\)\{\}\[\]\/\\])/g,"\\$1")+")","g");if(e&&0<e.length){for(var i=0,c=e.length;i<c;++i){var d=e[i];d.version?p.version=d.version:d.wqif?n=d.wqif:a.push(d)}n.sort(function(e,t){return e.showorder-t.showorder});for(i=0,c=n.length;i<c&&s<2;++i){var l=n[i];0==l.iftp&&t.push(p.child_shoptpl({keyword:l.shq,ind:++o})),2==l.iftp&&(l.ind=++o,t.push(p.child_acqtpl(l))),s++}for(i=0,c=a.length;i<c;++i){var h=a[i];h.key&&(h.pos=i,h.bra||(h.keywordStr=h.key&&h.key.replace(r,'<span class="search_string">$1</span>'),h.ind=++o,t.push(p.child_seltpl(h))))}}0<t.length&&(p.doms.msKeys.innerHTML=t.join(""),p.showWrap(2));var m={bizid:"36",operation:"15",result:"0",source:"0",message:"m_smartbox api loaded:"+p.opt.sf};0==t.length&&(m={bizid:"36",operation:"17",result:"0",source:"0",message:"m_smartbox api empty:"+p.opt.sf});try{T(m)}catch(e){}}},error:function(){try{T({bizid:"36",operation:"15",result:"1",source:"0",message:"m_smartbox api failed:"+p.opt.sf})}catch(e){}},complete:function(){p.cgiMonitor.smartboxTimer&&window.clearTimeout(p.cgiMonitor.smartboxTimer)},load:function(){p.cgiMonitor.smartboxTimer&&window.clearTimeout(p.cgiMonitor.smartboxTimer)}}))},Y.genSearchUrl=function(e,t,o,s,n,a){var r=this.searchUrl.replace("{#keyword#}",encodeURIComponent(e)).replace("{#sf#}",this.opt.sf).replace("{#ssf#}",o).replace("{#as#}",s);return t&&(r+="&PTAG="+t),2==n&&(r=S(r,"filt_type","ico,L"+a+"M"+a+";","",!0)),r},Y.genSearchShopUrl=function(e,t,o){var s=this.searchShopUrl.replace("{#keyword#}",encodeURIComponent(e)).replace("{#sf#}",this.opt.sf).replace("{#ssf#}",16).replace("{#as#}",o);return t&&(s+="&PTAG="+t),s},Y.bindSmkeyEvent=function(){var f=this;z(f.doms.msKeys,"click",function(e){for(var t=e.target,o=t.getAttribute("key");!o&&"li"!=t.tagName.toLowerCase;)o=(t=t.parentNode).getAttribute("key");if(o){var s=t.getAttribute("ind"),n=t.getAttribute("mtype"),a="shop"==n,r=t.getAttribute("subind"),i=I(f.doms.kwObj.value),c=a?f.genSearchShopUrl(o,f.opt.smartShopRd,1):f.genSearchUrl(o,f.opt.smartRd,12,1),d=o;o=a?o+'"店铺"':o;var l=null,h=null,m=f.getOriginalSearch();if("key"==n)f.clickEvent(12,s,o),l="MSearch_SearchDropDownAssociationalWords",h={event_param:o+"_0_"+i+"_"+s+"_"+m,event_level:"2"};else if("subkey"==n){f.clickEvent(13,s,o,r),l="MSearch_AssociationLabel",h={event_param:r+"_"+i+"_"+t.getAttribute("assword")+"_"+s+"_"+t.innerHTML+"_"+m,event_level:"2"}}else if(a)f.clickEvent(14,s,o),l="MSearch_Shopsearch",h={event_param:d+"_"+m};else if("act"==n){var p=t.getAttribute("ico"),u=t.getAttribute("dec");c=f.genSearchUrl(o,f.opt.smartRd,19,0,2,p,u),o+='"活动"',l="MSearch_AssociateActivity",h={event_param:d+"_"+m}}f.jumpToTarget(c,o,l,!1,h)}})},Y.bindHisEvent=function(){var r=this;z(r.doms.msHistoryTags,"click",function(e){var t=e.target;"a"==t.tagName.toLowerCase()&&(t=t.parentNode);var o=decodeURIComponent(t.getAttribute("tourl")||""),s=t.getAttribute("ind");if(o){var n=decodeURIComponent(l("keyword",o)||"");/^(https?:)?\/\/so\.m\.jd\.com\/shop\//.test(o)&&(n+='"店铺"'),r.clickEvent(6,s,n),r.opt.hisRd&&(o=S(o,"ptag",r.opt.hisRd,"",!0)),o=S(o,"sf",14,"",!0),o=S(o,"as",0,"",!0);var a={event_param:n+"_"+s+"_"+r.getOriginalSearch(),event_level:"2"};r.jumpToTarget(o,n,"MSearch_HistoryRecords",!1,a)}}),z(r.doms.msHotSearchTags,"click",function(e){var t=e.target;"a"==t.tagName.toLowerCase()?t=t.parentNode:"i"==t.tagName.toLowerCase()&&(t=t.parentNode.parentNode);var o=t.getAttribute("key");if(o){var s=t.getAttribute("ind"),n=r.genSearchUrl(o,r.opt.hotRd,15,0);r.clickEvent(11,s,o);var a={event_param:o+"_"+s+"_"+r.getOriginalSearch(),event_level:"2"};r.jumpToTarget(n,o,"MSearch_HotWords",!1,a)}})},Y.getOriginalSearch=function(){var e="3";switch(this.opt.sf){case"home":e="1";break;case"category":e="2"}return e},Y.showHisAndHot=function(){var e=this;e.onShowHah=!0,e.showWrap(1),e.initHistory(),e.initHotList(),Y.hasShow||(Y.hasShow&&window.wa&&window.wa("ptagExposure",{ptag:X?"37024.26.3":"37024.26.2"}),Y.hasShow=!0),function(){var e=N("sbx_hot_h");""===e?O("sbx_hot_h",e=L("sbx_hot_h"),525600,"/","jd.com"):K("sbx_hot_h",e),((X=1==e)?C:D)(this.doms.msHotSearch,"hide_hotword")}.call(e)},Y.hideHisAndHot=function(){this.onShowHah=!1,this.showWrap(2)},Y.initHistory=function(){var a=this;a.getHistoryKeywords(function(e){for(var t=[],o=e.length,s=0;s<o;++s){var n=e[s];n.ind=s+1,t.push(a.child_histpl(n))}0<t.length?(a.doms.msHistoryTags.innerHTML=t.join(""),a.doms.msHistory.setAttribute("hide","0"),R(a.doms.msHistory,a.onShowHah?"":"none")):(a.doms.msHistory.setAttribute("hide","1"),R(a.doms.msHistory,"none"))})},Y.initHotList=function(){var t=this;t.hotwordsCache?t.fillHotList():y({url:t.hotKeyApi,data:{},type:"get",dataType:"jsonp",success:function(e){0==e.retcode&&(t.hotwordsCache=e,t.fillHotList())}})},Y.fillHotList=function(){var e=this,t=[],o=0;if(t.push(e.child_hideHottpl()),e.hotwordsCache.owner&&0<e.hotwordsCache.owner.length)for(var s=e.hotwordsCache.owner.length;o<s&&o<12;++o){(n=e.hotwordsCache.owner[o])&&t.push(e.child_hottpl({hotWord:n,ind:o+1}))}if(o<12&&e.hotwordsCache.def&&0<e.hotwordsCache.def.length)for(s=e.hotwordsCache.def.length;o<s&&o<12;++o){var n;(n=e.hotwordsCache.def[o])&&t.push(e.child_hottpl({hotWord:n,ind:o+1}))}1<t.length&&(e.doms.msHotSearchTags.innerHTML=t.join(""),R(e.doms.msHotSearch,""))},Y.loadDrakText=function(){var s=this;y({url:s.drakApi,data:{},type:"get",dataType:"jsonp",success:function(e){if(0==e.retcode){var t=e.searchwords;if(t&&0<t.length){var o=t[0];s.opt.drakText=o.showword,s.opt.drakKey=o.searchword,s.doms.kwObj.setAttribute("placeholder",s.opt.drakText),s.opt.initKeyword||s.exposeDark()}}}})},Y.showWrap=function(e){this.onShow=!0,this.opt.defaultSm?R(this.doms.msContentWraper,""):R(this.opt.smartboxBlock,""),this.opt.shortCutShow&&this.showShortCut(!1),this.showMlogin(!1),1==e?(R(this.doms.msKeys,"none"),R(this.doms.msClearToast,"none"),R(this.doms.msHistory,""),this.hotwordsCache&&R(this.doms.msHotSearch,"")):(R(this.doms.msKeys,""),R(this.doms.msClearToast,"none"),R(this.doms.msHistory,"none"),R(this.doms.msHotSearch,"none")),"home"==this.opt.sf&&this.changeTheam("")},Y.hideWrap=function(){this.onShow=!1,this.opt.defaultSm?R(this.doms.msContentWraper,"none"):R(this.opt.smartboxBlock,"none"),this.opt.shortCutShow?(this.showShortCut(!0),this.showSearchBtn(!1)):this.showSearchBtn(!this.opt.initHideSbtn),this.showMlogin(!0),this.showCancelBtn(this.opt.cancelBtnShow),"home"==this.opt.sf&&this.changeTheam(this.curTheam)},Y.saveHistoryKeywords=function(n,a){this.getHistoryKeywords(function(e){for(var t=-1,o=0,s=e.length;o<s;++o){if(e[o].text==a){t=o;break}}-1<t&&e.splice(t,1),e.unshift({text:a,href:n}),18<=e.length&&(e=e.slice(0,18)),U.set(W,JSON.stringify(e))})},Y.getHistoryKeywords=function(o){U.get(W,function(e){var t=[];if(e)try{t=JSON.parse(e)}catch(e){t=[]}o&&o(t)})},Y.clearHistoryKeywords=function(){U.remove(W),this.initHistory()},Y.jumpToTarget=function(e,t,o,s,n){t&&this.saveHistoryKeywords(e,t),this.initHistory();var a={event_param:t+"_"+(s?1:0)+"_"+this.getOriginalSearch(),event_level:"2"};n&&(a=n),this.sendMping(o,a),function(){var e=0,t=(N("visitkey")||"0").substr(-2),o=parseInt(t,10);void 0!==window.smartboxGrayMtoStatic&&(e=window.smartboxGrayMtoStatic);return 99==e||e&&o<=e}()&&/\/\/so?\.m\.jd\.com\/ware\/search\.action/.test(e)&&(e=S(e=e.replace(/.*[?&]keyword=([^&#]+).*[?&]searchFrom=([^&#]*)/,function(e,t,o){return"//wqs.jd.com/search/index.shtml?key="+t+"&sf="+(o||"")}),"sceneval","2","",!0)),window.setTimeout(function(){location.href=e},200)},Y.exposeDark=function(){var e=this.getOriginalSearch();if(window.MPing)this.sendMping("MSearch_DarkLines",{event_param:e+"_2"});else{var t=this;window.setTimeout(function(){t.sendMping("MSearch_DarkLines",{event_param:e+"_2"})},200)}},Y.clickEvent=function(e,t,o,s){if(this.opt.clickCb)try{this.opt.clickCb(e,t,o,s)}catch(e){console.log(JSON.stringify(e))}},Y.sendMping=function(e,t){if(e&&!this.opt.mManualReport)try{var o=new MPing.inputs.Click(e);t&&(o=A(o,t)),(new MPing).send(o)}catch(e){}},Y.getShortCutMenus=function(){var t=this;y({url:"//mapi.m.jd.com/commonHeader/headerInfo.action?_format_=json&isNewVersion=1",data:{},method:"POST",async:!0,timeout:3e3,cache:!0,success:function(e){t.setShortCutMenus(e)},error:function(){t.setShortCutMenus()}})},Y.setShortCutMenus=function(e){var t=e||{};t.navList&&0!=t.navList.length||(t.navList=[{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAAEhlFeZAAAABGdBTUEAALGPC/xhBQAAAptJREFUSA3Nls+rTVEUx++575UfPeRHEUkUZaIkZaKeTIyMlFIGMiADRSlDMzMDZWZm8vwDBlKiGFBSlIS8F1FGUsLrecfnu+217z777HPuub2rrPq+tdb3+93r/Nznvl4vF2VZLuT4HkJZmKLG6nzG8NIpqbUvNiXDDAnEx0BYAfndastwD6wOI7VcIcHypHfNeeJQJM55bZAwnR10UYVwTi35UUQ74mpMYHjleopbsWA1/Cer/0VmvsI9SWU1rcdBPykTcbfVGIuYL4PFhHsH9yzmKjXiDfCrQiYN+lPwPtA0F8HXQHQo8N8Bb4OVpnITaN0LoRxMFKnPaSlpvWUbEPfuVTfBMga9jnbTFn1v8vDMgimwd7gzcbDIvQjkFYnU3GLWKV4Cu4BidbPbK3995Rkz0m/z3HrjatkbTqQC/Cavba5okIUXjlaEqEFf5z3bHU0z4YnDkS9b4tOdVux2bwXFgawzQ+JdrpVOCkXGmFLmbXp7pjH89phOF4fephjhF+jaJ1Ubr2xe+0zGmup+URRuAcbsWWXJdEqut4WddoFOnSFu59ip6hn+RJjw0+ONbF97STr9oc/bz6gnDjADFD/AsrpjjAwHOA30iBXXwWdXleV98tQYD+Ue/QU/XOl8PJx+B5iVQDwBa2N95JoBVzSJ0NWdahuAvgW8BooXYGObv6ax4JpWEvPgWM3QQuDfAJ4DxRuwtdGO2Ac3gUIvyJFGcweB9WvAY6D4AHaGZTTavreB4hs4GMQxFMxbCe4BxRewR5t0P9CPxj6wCjwE4wz9b6f9qa01A46DQbhz4c+AWXqVm2mfo07TGWBbw2ZZnu00IGeyCTlNXE7PcfH6nD7SlcbDllL/Fwd1vxB2S9Lsry7+FRE18po/MiDmblSeG8kAAAAASUVORK5CYII=",isDisplay:!0,jumpUrl:"https://m.jd.com",name:"首页",key:"index"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAFMN540AAAABGdBTUEAALGPC/xhBQAAApRJREFUSA3Vlr9KXEEUxncFhYCNYBEsTJEi4GNsIdhFxDdIt42PEXyO2CVVCms7DVZiCItik5DSQptYhJvfd2eO82dn7t69IUUOnJ3z5/vOPXNn7syORl6appmZPcqdxjIknm2LhZHkSfBiSzzkKY6ltgO46tgTy86xCBQfMjZGPkLYIPZ7jFFtfowkRLCH6CO62iYwWraNhsbfN1svbufZwRB4JQrsRnZrrgjhg1sGZpzONRQzI1IcDnbnXAMssvRslUWu0R10HT1CJccRNDVJ6kVdp9HgkYsnGRKySOoNr6fR1CNvb2gusVpNuuJT8rcpK/MA7KtIJt+8v5XB+7sUeKUi/RnLICmsuZ+geoEz9LAXH+AxKtHaao211lpzSdiszne/qoylF1X8hIlPhKx2oCQSqmdIcuqgPAUxM3ziktYUwvEVZ3uQ9Q4exKm2FxfM7Hf4n7OYc6l6i06LSYLqDFlr8852v0bwsaQAMX1NT+h7w1VHQOoglwsCd1XSogTkK/RSuPTIXMT0ecjfMU97wv8BbPnTkSY6D+SuJpmvPpzSShBORJhwmeRFE2jkFHD2iWuf6Ays7mzlPEZYSf2ozx9kPiQdRjbDZMMapmuEqyYlquHu2y6C5QDrBJQcWWzZUdy2QuV/RbEeBB27ks67q0j2QXHbCtQyXHWdDMD409vbUWxZ07g/ehPpVNe8RCd1n0aT2uJ4LkNzkCQXORDsktYunSzCW15Y1Hb2W4u3I4miJCAcQOrcPilx9Aa0aXTtaA3tFlXMblLM5hf6Oq83yKeQPjEtgXb8DNUGvEe/oB/QPVQnm5o5RyVf0c1BDxxK4oEv0RtUcoa+GHRN/EUDb+B+RD8NrfH/8gZdbUOnG1+JfwA4qCAoSiTNEwAAAABJRU5ErkJggg==",isDisplay:!0,jumpUrl:"https://so.m.jd.com/category/all.html",name:"分类搜索",key:"search"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAXCAYAAAFrOM/8AAAABGdBTUEAALGPC/xhBQAAAfFJREFUSA21lb1LA0EQxXPGIrWktLC0ELEQwcLGQggWlmJpIeKfYGFhbSMIdlZiY20hiIVYWImtIATB3u/GD3L+Zm9vs3s37gUTByY7896bt5vlcqmlRC0WiZCBKmiKo5APBhOVhBNQr7vGK4qibY8zJYKVAMsnWLO9hM3BQOk3CI78Pqi1abAxI6LYCdQ0YMfmaoTQpt0ApDtlSQjQJidzFxFURNt3TkTsgIpCtO7MdscP1maSJG+xWebW4GcDDWCTfA9ApUHzJFqF6hPCtUW62xU7DQsuie8a3EHVGZwY5zQflrpqEH5rWBPlJhonGN77LK+OB3gkRx0QKdDdkeNOQrNJ7jkgUqALvxZ9g/yOzDiqNCyMCrqRbpHrhrpQVkGol1jUSV8UHoB9YaBp4xhD9bgiY6Ong5QoPp4lTN1IBsmWT2pY8Gz7Yuo6T1qngP1fy+kOSYkNf5cMGtjnru9taqwnrP19iewTwPfUei+qVpAnVrCsCv4A4lcnP8kO2VAtIOZIiRtV8AcQr3njmKYXMl76NQrIQ3XJckVOIV4QbACR+5xFvdhwyZ7wPCrskcTr2vrNVI4gvLXi6UpxRIDHiPV5ici6FOJV8tkODWTpuvdYsav5t2UtvZl8i151/ky0thuymAjep/4grBwsj191PxQBfCUS+pFvAAAAAElFTkSuQmCC",isDisplay:!0,jumpUrl:"https://p.m.jd.com/cart/cart.action",name:"购物车",key:"cart"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAABGdBTUEAALGPC/xhBQAAArNJREFUSA2tlr1KXUEUhe8VUSFCUhgkoI2VmCqmEEtNmuQR0gg2eYOUPoAEbKwkTxES8gNiE5NgF4JdrCIBwUKwComefGvO7Lkzc37uj9mwmL3XXnvPuXNm5txOx1tRFDvmdwhmQiAH4gKsOhKnSLJecZyQUo2BuwlbCVBcG4l/JX/MCMZu5CcPOBslnEv1j8AR3AeXgTBHichfN9+NJC8SIg8QLItjPLece1oIrcljT34m/OB8nzBxGOG3QpA7tUWQ++AarIBpsAdkE3mDEJM8BiuBiBxVRmGy7OLfgeexYGCfxovqjr1RUekWZ7UNSM57wUKtwJNovoJy3XE2wGFbQZ5DX3TBTxJzeXKkmGY74BJolcPGipvFm1kLMQG07LfAPbAJvkPtMzYbgiuwnivgtCFqZ3ZakslLtgbQ2kXpmbWkxpbCGXLJOUl+Y9wk87eJX2VcL6TrSxAOljLEy6D2J/QqS+GZCRnfyscWE1EckPzoJEXxmrG82spGL4h13cnS6wviHHyJG+U++QUgm3c5nC3Qu5zyiihGNwvK3xucSNDmoj8EG43vrk+xOx39l7ra5bRKZQyPpY2/C7SPm0w5aZovtKxvbeibaJJfoHJorIjcI69hKHaNH2qkUHeAbG/QQmldRfzRHaJYF45seogafS9k1U+ib9J2iE+85sGgE6IzrdUOXspTLgFthj/gYb9KabxWNUv99LV5CifBeyD7CypXlTifY3DaydpmbSSF+l/0DBwAXd+xuQ+m6iHtFrO8tAdAtW2vq5we0So4BbLfYBvcbnu4OCetr1GtTL3CTRm0kOPgE5B9A3dCckRHPXwvBtd73LUimAK6hmVPRuzfWKaernM5x5Tew5En1hqrbpig/5qf40h/Udwl3MVu2Le13ObRTnoKbKP4B/n/g+bQXP8A8Y9H3Xp0rSoAAAAASUVORK5CYII=",isDisplay:!0,jumpUrl:"https://home.m.jd.com",name:"我的京东",key:"home"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAHPIZnHAAAABGdBTUEAALGPC/xhBQAABFFJREFUWAmdll2IVlUUhmcsHSVRUTMl1C4MHU2S/kSKbhpFzAshCsR0oEQRUedGpYukTNKwuskiBalIwX7QTEsUSXFqvBTUm6GLTPybdNT8yfzJ4/Pu1t6zz/7OGef7Frzfetda715nn33O2furqzPLsmyyaC/I9yCD37JalyM/oJcPTTXSx3Uk+sVBSwhigmp8HN+HI292EsgY0AJuA2/fGmnK9SH5jk/AL3gePMnjYHhIFBEE85XH36mok7ySJrV6sj1W6IAvAvVBSLAhBBDiEYrxzkKN6KIP4L94HrzkIYAQ3oxjJfrGopjnhD5A0OF58CQ/U4B/NiRTQnF1mtOIh8DH4E1fhMtG6Ec53C1xbKrXOE/iJBjlk3AJeyvGTzL/ANzbR0ba5N04/DlLyrn3CH/Bcsfwnca3WMMniU+AV12D9EfiNOdjSqfBTB8XejXASkUqFg5Mk+iGFonjXPhS08EWj8bnvgwGXyL3XIk+n0b8sK6GrQY/O5ZlDXlVQYRQ30k7OFBQzqXcLSCcBz4Bg616Dr8WXCL3IVgKZJ250QpIXgW/gsVANhl8DW4qwKbpx7R/QJ8Gw8FY1wwSHgm0H7hh4kfgfY0fhHubC7kDroAvNYO4wVuEh11nfuADwUQfW7NPyf0AVoF2iWYCb5dN1GSJG/gjvogfYnU1aI0bB05hsA3o2pmokhtp+ceDuIgg2gPmldR0S+GWpSl6E0eTP17UoL6+/m/yuq3yl4niHKAN9sGiJuS1iGHjqRBxla0IdADoOPmN+IWk0VnirtMtKeZCGpwCL8dJ4u1gdpwr5QjXgdwmSpxbxNLBKkiMhQWD91ei20FxMRUT6xV+JtZ0yxGfB3oT3wZ3wfZ0QMVTiAU8AW0oWsSnwEDiq3G9am4zweXsOlGjbwZ/DOiLfQW4b8fXSj3Cl8CfILW/SLizA69d7hrQUrgL4t8Hso3gCfAf0DrvAoeBTMsYHmTFJChukwrbnBbJvecq9uXDBwG9h940ocUah59hSR2SrykPNCFNeBj4AGhy3vZCBmmgDjrZowUTaCCvnVUovwsbKA1YCfYBbVlzbXLfwGXLLJ7wf8h/Och48I8lNKv5oBl8B2Sa9Yt+cnDtSCtAO9Ddxab/GZ+DdBNuJKd3JbU3fF9NRMu7CGwCX4BlwP2hs1m/TuyX8BB8OugTGkCIxwJ9/TqnZGfAhFhTE6eJPxWP9LQBY/Q4fgQyTTh3QPS0j9MxWMste76qgYgZs8CNzLKfqh0b9DTYYU2WhGQVhLGtNj49GnrWhcHaA/ZbE7mzoAUUnYgVTdG9C2Qr0mKPGrCF3gVNwBlNFgKthr7z3WnTgniA5f4tqNWe4uLrdVvYmu66UNfBKhvXna7qGg2PurZZNqtsMHV9lrKvyjQ15Wm4xrXlT21ZA+prTdNWpqk5T+Pl1nwnPvcuEU8BOshk62q+yP0G0lwX+l1XSUw7oQ6y3MSK+t0DVG5rShBkLlAAAAAASUVORK5CYII=",isDisplay:!0,jumpUrl:"https://wqs.jd.com/wxsq_project/mhistory/index.html",name:"浏览记录",key:"footprint"}]);var o=!0,s=N("mhome"),n=N("sphome");"1"==s?o=!0:"1"==n&&(o=!1);for(var a=t.navList,r=window.location.href.split("?"),i=r[0],c="",d=0,l=a.length;d<l;d++)if(a[d].isDisplay&&a[d].icon&&a[d].jumpUrl&&a[d].name&&a[d].key){var h="",m=!!a[d].report_eventid,p=(i=a[d].report_eventparam?a[d].report_eventparam:r[0],a[d].jumpUrl);switch(a[d].key){case"index":h=m?a[d].report_eventid:"MCommonHead_home",p=o?a[d].jumpUrl:"//sp.m.jd.com";break;case"search":h=m?a[d].report_eventid:"MCommonHead_CategorySearch",a[d].jumpUrl+="?searchFrom=header";break;case"cart":h=m?a[d].report_eventid:"MCommonHead_Cart";break;case"home":h=m?a[d].report_eventid:"MCommonHead_MYJD";break;case"footprint":h=m?a[d].report_eventid:"MCommonHead_FootPrint";break;case"myfocus":h=m?a[d].report_eventid:"";break;default:a[d].key,h=m?a[d].report_eventid:""}c+='<li><a class="J_ping" '+(this.opt.mManualReport?"":'report-eventid="'+h+'" report-eventparam="'+i+'"')+' href="'+p+'"><span class="shortcut-'+a[d].key+'" style="background: url('+a[d].icon+') no-repeat center center;background-size: 15px"></span><strong>'+a[d].name+"</strong></a></li>"}this.doms.msShortcut&&(this.doms.msShortcut.innerHTML=c)},Y.child_indextpl=function(){var e='<div id="msContentWraper" style="display:none;"><div id="msHistory" class="recent-search" style="display:none;"><div class="recent-search-head cf"><p>最近搜索</p><i id="msHistoryDel" class="garbage-pic"></i></div><div id="msHistoryTags" class="recent-search-tags"></div></div><div id="msClearToast" class="search-toast" style="display:none;"><div id="msClearFloor" class="black-floor"></div><div class="ground-toast"><div class="toast-content"> 确定要清空吗? </div><div class="toast-btn"><a class="no" id="msClearCancel">取消</a><a class="sure" id="msClearSure">确定</a></div></div></div><div id="msHotSearch" class="hot-search'+(X?" hide_hotword":"")+'" style="display:none;"><div class="hot-search-head cf"><p>热门搜索</p><i id="msHotSearchReflash" class="around-pic" style="display:none;"></i><div id="msHotwordVisible" class="hotword_visible"><span>隐藏</span><span>显示</span></div></div><div id="msHotSearchTags" class="hot-search-tags"></div></div><ul id="msKeys" class="association-normal"></ul></div>';return e+='<div id="msHeaderMask" class="header-mask" style="display:none;"></div><ul id="msShortcut" class="jd-header-vertical-shortcut-v2" style="position: absolute; top: 53px; right: 10px;display:none;"></ul>',this.child_searchtpl()+e},Y.child_shoptpl=function(e){return'<li key="'+e.keyword+'" mtype="shop" ind="'+e.ind+'"><a href="javascript:void(0);"><i class="shop-pic"></i><span class="association-shop-name">"'+e.keyword+'"店铺</span></a></li>'},Y.child_acqtpl=function(e){var t=e.acu.replace(/^\&icon=/,"");return'<li mtype="act" dec="'+e.acq+'" key="'+e.shq+'" ico="'+t+'"><a href="javascript:void(0);"><i class="act-pic"></i><span class="association-shop-name">在</span><span class="txt-tag"><img src="//img12.360buyimg.com/cms/'+e.acp+'"></span><span class="association-shop-name">下搜索 '+e.shq+"</span></a></li>"},Y.child_seltpl=function(e){var t=['<li key="'+e.key+'" mtype="key" ind="'+e.ind+'"><a href="javascript:void(0);">'];if(t.push('<span class="association-product-name">'+e.keywordStr+"</span>"),e.tag&&0<e.tag.length)for(var o=0,s=e.tag.length;o<s;++o){var n=e.tag[o];t.push('<span class="association-product-btn" key="'+n.tse+'" assword="'+e.key+'" mtype="subkey" ind="'+e.ind+'" subind="'+(o+1)+'">'+n.tsh+"</span>")}return t.push("</a></li>"),t.join("")},Y.child_histpl=function(e){return'<span tourl="'+encodeURIComponent(e.href)+'" ind="'+encodeURIComponent(e.ind)+'"><a href="javascript:void(0);">'+J(e.text)+"</a></span>"},Y.child_hottpl=function(e){return'<span key="'+e.hotWord+'" ind="'+e.ind+'"><a href="javascript:void(0);"><i class="hot-search-move '+(e.ind<=3?"hot-search-red":"")+'">'+e.hotWord+"</i></a></span>"},Y.child_hideHottpl=function(e){return'<div class="s_hasHide">已隐藏搜索发现</div>'},Y.child_searchtpl=function(){return'<div class="mjd-header"><div class="m_common_container"><div class="m_cc_header_inner"><header class="jd-header"><div class="jd-header-new-bar"><div id="msCancelBtn" class="jd-header-icon-back J_ping"><span></span></div><div class="jd-header-new-title"></div><div id="msShortcutLogin" class="jd-header-icon-new-shortcut-text J_ping" style="display:none;"><span>登录</span></div><div id="msShortcutMenu" class="jd-header-icon-new-shortcut J_ping" style="display:none;"><span></span></div></div></header></div><div class="m-common-header-search"><form action="/search/search.action" class="jd-header-search-form"><div class="jd-header-search-box" id="msSearchBox"><i id="search-input-left-jd" class="jd-header-icon-jd"></i><i id="search-input-left-icon" class="jd-header-icon-fdj"></i><div class="jd-header-search-input"><input value="'+J(this.opt.initKeyword)+'" maxlength="20" name="keyword" id="msKeyWord" type="text" cleardefault="no" autocomplete="off" placeholder="搜索商品/店铺" class="hilight2"><input name="catelogyList" type="text" value="" style="display:none;"><div class="head-input-icon J_ping" id="msSearchTab" report-eventid="MSearch_SearchTab" style="display:none;"></div></div><a href="javascript:void(0);" class="jd-header-icon-close" id="msSearchClearBtn" style="display:none;"></a></div><a href="javascript:void(0)" style="display:'+(this.opt.initHideSbtn?"none":"block")+';" id="msSearchBtn" class="jd-header-icon-search1"><span>搜索</span></a></form></div></div></div>'},Y.changeTheam=function(e){switch(e){case"home_transparent":this.opt.smartboxBlock.className="search-land main-page2";break;case"home_normal":this.opt.smartboxBlock.className="search-land main-page";break;default:this.opt.smartboxBlock.className="search-land"}e&&(this.curTheam=e)},Y.setLogin=function(e){this.opt.isLogin=e,this.onShow||(e?(R(this.doms.msShortcutLogin,"none"),R(this.doms.msShortcutMenu,"")):(R(this.doms.msShortcutLogin,""),R(this.doms.msShortcutMenu,"none")))},Y});
